!function(){"use strict";const e=Object.getPrototypeOf(global)||global;e.regeneratorRuntime=require("babel-runtime/regenerator"),e.regeneratorRuntime;const t=Object.prototype.toString,r=e=>"function"==typeof e,a=e=>"[object Object]"===t.call(e),n=[],o=function(){return n.length&&n[n.length-1]},s=function(){return n},c=function(e){const t=n.indexOf(this);~t&&n.splice(t,1),n.push(e)},i=function(){n.pop()},u=(e,t)=>(Object.keys(t).forEach(r=>{e[r]=t[r]}),()=>e);var l={input:{change:{detail:function(e){return{value:e.value||e.text}}}},picker:{change:{detail:function(e){switch(e.target.attr.type){case"time":return e.minute=e.minute<10?"0"+e.minute:e.minute,e.hour=e.hour<10?"0"+e.hour:e.hour,{value:e.hour+":"+e.minute};case"date":return e.month=e.month<10?"0"+e.month:e.month,e.day=e.day<10?"0"+e.day:e.day,{value:e.year+"-"+e.month+"-"+e.day};case"text":return{value:e.newSelected};default:return{value:""}}}}},radio:{change:{detail:function(e){return{value:e.value}}}},slider:{change:{detail:function(e){return{value:e.progress}}}},swiper:{change:{detail:function(e){return{current:e.index}}}},switch:{change:{detail:function(e){return{value:e.checked}}}},tabs:{change:{detail:function(e){return{current:e.index}}}},textarea:{change:{detail:function(e){return{value:e.value,cursor:e.value.length}}},focus:{detail:function(e){return{value:"",height:""}}},blur:{detail:function(e){return{value:"",cursor:""}}}},video:{timeupdate:{detail:function(e){return{currentTime:e.currenttime,duration:""}}},fullscreenchange:{detail:function(e){return{fullScreen:e.fullscreen,direction:"horizontal"}}}}};const h=/\+/g,d=/([^&=]+)=?([^&]*)/g,p=function(e){const t={};if(e){const t=e.split("?");2===t.length&&(e=t[1])}if(e){let r;for(;r=d.exec(e);)t[g(r[1])]=g(r[2])}return t},g=function(e){return decodeURIComponent(e.replace(h," "))},f=(e,t)=>{0===t.indexOf("/")&&(e="",t=t.substr(1));const r=e.split("/"),a=t.split("/");r.pop();for(let e=0;e<a.length;e++)"."!==a[e]&&(".."===a[e]?r.pop():r.push(a[e]));return r.pop(),r.join("/")};function m(e,t){const r=e.split("?");return r.length>1?{uri:f(t||"",r[0]),params:{pageQuery:p(r[1])}}:{uri:f(t||"",r[0]),params:{}}}const y=function(e){this.pageIsRefreshing=e.refreshing,e.refreshing&&r(this.onPullDownRefresh)&&this.onPullDownRefresh()},b=/data([A-Z$](?:[A-Za-z_$]*))/,w=function(e,t,a,n){let o={};if(n.target&&n.target.type){const e=l[n.target.type];e&&e[n.type]&&r(e[n.type].detail)&&(o=e[n.type].detail(n)||{})}n.target.dataset={},n.target.attr&&Object.keys(n.target.attr).forEach(e=>{const t=e.match(b);if(t&&2===t.length){let r=t[1];r=r.substr(0,1).toLowerCase()+r.substr(1,r.length),n.target.dataset[r]=n.target.attr[e]}}),n.currentTarget=n.target,n.detail=o,this[e](n)},x=(e,t,r)=>{v(e,t,r)},v=(e,t,r)=>{e.$handlePageEvent=w,e.$handlePageRefresh=y,e.$handleRouterEvent=function(e,t){return function(r,a){if(!t){const e=o();t=e?e._$path$_:""}const n=e("@app-module/system.router");if("navigateBack"===r)n.back();else{const e=a.target.attr&&a.target.attr.dataUrl;if(e)switch(r){case"navigate":n.push(m(e,t));break;case"redirect":n.replace(m(e,t));break;case"switchTab":n.replace(m(e)),n.clear()}}}}(r,t)},k=["methods","properties","data","behaviors","relations","externalClasses","created","attached","ready","moved","detached"];function S(e,{wxs:t,type:a,path:n,module:o,exports:s,$app_require$:u}){if(x(e,n,u),"Template"===a)return;e.update=function(){},e.setData=function(e){e&&Object.keys(e).forEach(t=>{if(void 0===e[t])this.data[t]=void 0;else try{this.data[t]=JSON.parse(JSON.stringify(e[t]))}catch(r){console.error(r),this.data[t]=e[t]}this.$set("data"===t?"proxyDataKey":t,e[t])})};const l=e.onLoad;e.onInit=function(){this._$path$_=n,Object.keys(t).forEach(e=>{this[e]=t[e]}),this.$set("pageIsRefreshing",!1);const e=this.$getPageInitData();try{this.data=JSON.parse(JSON.stringify(e))}catch(t){console.error(t),this.data=Object.assign({},e)}Object.keys(e).forEach(t=>{this.$set("data"===t?"proxyDataKey":t,e[t])});let a={};if(this.pageQuery)try{a=JSON.parse(this.pageQuery)}catch(e){console.error(e)}r(l)&&l.call(this,a)};const h=e.onShow;e.onShow=function(){"Page"===a&&c(this),r(h)&&h.call(this)},e.onDestroy=function(){"Page"===a&&i(),r(e.onUnload)&&e.onUnload.call(this)};const d=[];Object.keys(e).forEach(t=>{~k.indexOf(t)||r(e[t])||d.push(t)}),d.length&&(e.data||(e.data={}),d.forEach(t=>{e.data[t]=e[t],delete e[t]}));const p=e.data||{};delete e.data,e.$getPageInitData=function(){return p}}const $=["properties","data","methods","relations"],O=["created","attached","ready","moved","detached"],P=(e,t)=>t?(Object.keys(t).forEach(r=>{const n=e[r],o=t[r];a(n)&&a(o)?P(n,o):e[r]=o}),e):e,C=(e,t)=>{const r={},a=a=>{~O.indexOf(a)?r[a]=((e,t)=>t?e?e.concat(t):Array.isArray(t)?t:[t]:e)(e[a],t[a]):~$.indexOf(a)?r[a]=P(e[a]||{},t[a]):r[a]=void 0===t[a]?e[a]:t[a]};return Object.keys(e).forEach(e=>a(e)),Object.keys(t).forEach(t=>!e.hasOwnProperty(t)&&a(t)),r};function V(e){let t=e.behaviors;t||(t=[]);let r={};return(t=t.filter(e=>a(e))).forEach(e=>{r=C(r,e)}),C(r,e)}const T=function(e){Array.isArray(this[e])&&this[e].forEach(e=>e.call(this))};const j={name:"set",args:e=>({value:e.data}),returnValue:()=>({})},D={name:"get",returnValue:e=>({data:e})},R={name:"delete",returnValue:()=>({})},_={name:"clear"};var E={barcode:{scanCode:{name:"scan"}},brightness:{setScreenBrightness:{name:"setValue"},getScreenBrightness:{name:"getValue",returnValue:e=>({value:String(e.value/255).substring(0,7)})}},clipboard:{setClipboardData:{name:"set",args:e=>({text:e.data})},getClipboardData:{name:"get",returnValue:e=>({data:e.text})}},device:{getSystemInfo:{name:"getInfo",returnValue:e=>({brand:e.brand,model:e.model,screenWidth:e.screenWidth,screenHeight:e.screenHeight,system:e.osVersionCode,platform:e.platformVersionName,pixelRatio:"",windowWidth:"",windowHeight:"",statusBarHeight:"",language:"",version:"",fontSizeSetting:"",SDKVersion:""})}},fetch:{request:{name:"fetch",returnValue(e){let t=null;try{t=JSON.parse(e.data)}catch(r){t=e.data}return{data:t,statusCode:e.code,header:e.headers}}}},file:{getSavedFileInfo:{name:"get",args:e=>({uri:e.filePath}),returnValue:e=>({createTime:e.lastModifiedTime,size:e.length})},removeSavedFile:{name:"delete",args:e=>({uri:e.filePath})}},geolocation:{getLocation:{name:"getLocation",args:{},returnValue:{}}},media:{chooseImage:{name:"pickImage",returnValue:e=>({tempFilePaths:[e.uri]})},chooseVideo:{name:"pickVideo",returnValue:e=>({tempFilePath:e.uri})}},network:{getNetworkType:{name:"getType",returnValue:e=>({networkType:e.type})},onNetworkStatusChange:{name:"subscribe",args:e=>({callback:e}),returnValue:e=>({networkType:e.type})}},prompt:{showToast:{name:"showToast",args:e=>({message:e.title,duration:e.duration>2e3?1:0})},showModal:{name:"showDialog",args(e){const t={title:e.title,message:e.content,buttons:[{text:"确定",color:""},{text:"取消",color:""}]};return e.title||delete t.title,e.content||delete e.content,e.showCancel||"boolean"!=typeof e.showCancel||t.buttons.pop(),t.buttons[1]&&e.cancelText&&(t.buttons[1].text=e.cancelText),t.buttons[1]&&e.cancelColor&&(t.buttons[1].color=e.cancelColor),e.confirmText&&(t.buttons[0].text=e.confirmText),e.confirmColor&&(t.buttons[0].color=e.confirmColor),t},returnValue:e=>0===e.index?{confirm:!0,cancel:!1}:{confirm:!1,cancel:!0}},showActionSheet:{name:"showContextMenu",returnValue:e=>({tapIndex:e.index})}},request:{uploadFile:{name:"upload",args(e){const t={uri:e.filePath};return{url:e.url,header:e.header,files:[t]}},returnValue:e=>({data:e.data,statusCode:e.code})},downloadFile:{name:"download",returnValue:e=>({statusCode:e.token})}},router:{navigateTo:{name:"push",args:e=>({uri:e.url})},redirectTo:{name:"replace",args:e=>({uri:e.url})},navigateBack:{name:"back"},switchTab:{name:"replace"}},sensor:{onCompassChange:{name:"subscribeCompass",args:e=>({callback:e})},stopCompass:{name:"unsubscribeCompass"},onAccelerometerChange:{name:"subscribeAccelerometer",args:e=>({callback:e})},stopAccelerometer:{name:"unsubscribeAccelerometer"}},storage:{setStorage:j,setStorageSync:j,getStorage:D,getStorageSync:D,removeStorage:R,removeStorageSync:R,clearStorage:_,clearStorageSync:_},vibrator:{vibrateLong:{name:"vibrate"},vibrateShort:{name:"vibrate"}}};const q={};Object.keys(E).forEach(e=>{const t=E[e];Object.keys(t).forEach(r=>{const a=t[r];a.module=e,q[r]=a})});const I=(e,t,r)=>a=>e(A(a,t,r)),A=(e,t,r)=>(e=t(e),a(e)&&!e.errMsg&&(e.errMsg=`${r}:ok`),e);function M(e,t){const a=q[t.method];if(a&&(r(a.returnValue)||(a.returnValue=(e=>e)),r(e.success)&&(e.success=I(e.success,a.returnValue,t.method)),r(e.complete)&&(e.complete=I(e.complete,a.returnValue,t.method)),r(a.args)&&(Object.assign(e,a.args(e,t)),r(e.callback)&&(e.callback=I(e.callback,a.returnValue,t.method)))),~["navigateTo","redirectTo","switchTab"].indexOf(t.method)&&e.uri)if("switchTab"===t.method)e.uri=m(e.uri).uri;else{const t=o();t&&t._$path$_&&(e=Object.assign(e,m(e.uri,t._$path$_)))}return e}const B=["push","pay","wxpay","alipay","appshare"],N=function(e){return~B.indexOf(e)?"@app-module/service."+e:"@app-module/system."+e},H=$app_require$("@app-module/system.storage");const L=$app_require$("@app-module/system.app");var z=Object.freeze({getSystemInfoSync:async function(){return new Promise((e,t)=>{L.getInfo({success(t){e({brand:t.brand,model:t.model,screenWidth:t.screenWidth,screenHeight:t.screenHeight,system:t.osVersionCode,platform:t.platformVersionName,pixelRatio:"",windowWidth:"",windowHeight:"",statusBarHeight:"",language:"",version:"",fontSizeSetting:"",SDKVersion:""})}})})},startPullDownRefresh:({success:e,complete:t})=>{const a=o();a&&(a.pageIsRefreshing=!0),r(e)&&e({errMsg:"startPullDownRefresh:ok"}),r(t)&&t({errMsg:"startPullDownRefresh:ok"})},stopPullDownRefresh:({success:e,complete:t})=>{const a=o();a&&(a.pageIsRefreshing=!1),r(e)&&e({errMsg:"stopPullDownRefresh:ok"}),r(t)&&t({errMsg:"stopPullDownRefresh:ok"})},getStorageSync:async function(e){return new Promise((t,r)=>{H.get({key:e,success(e){t(e)},fail(e,t){r(e)}})})},setStorageSync:async function(e,t){return new Promise((r,a)=>{H.set({key:e,value:t,success(e){r(e)},fail(e,t){a(e)}})})},removeStorageSync:async function(e){return new Promise((t,r)=>{H.delete({key:e,success(e){t(e)},fail(e,t){r(e)}})})},clearStorageSync:async function(){return new Promise((e,t)=>{H.clear({success(t){e(t)},fail(e,r){t(e)}})})},setNavigationBarTitle:({title:e,success:t,complete:a})=>{const n=o();n&&n.$page.setTitleBar({text:e||""}),r(t)&&t({errMsg:"startPullDownRefresh:ok"}),r(a)&&a({errMsg:"startPullDownRefresh:ok"})},setNavigationBarColor:({frontColor:e,backgroundColor:t,success:a,complete:n})=>{const s=o();s&&s.$page.setTitleBar({textColor:e||"",backgroundColor:t||""}),r(a)&&a({errMsg:"stopPullDownRefresh:ok"}),r(n)&&n({errMsg:"stopPullDownRefresh:ok"})}}),F=new Proxy({},{get(e,t){const a=q[t];return a?function(e){return $app_require$(N(a.module))[a.name](M(e,{method:t}))}:function({fail:e,complete:a}={}){const n={errMsg:t+":fail"};r(e)&&e(n),r(a)&&a(n),console.error(`暂不支持wx.${t}调用`)}}});const J=Object.assign({},z);J.parseArgs=M;const W=Object.getPrototypeOf(global)||global;W.wx=F,W.App=function(e,{module:t,exports:a,$app_require$:n}){const o=[];Object.keys(e).forEach(t=>{"data"===t||"manifest"===t||r(e[t])||o.push(t)});const c={};o.forEach(t=>{c[t]=e[t],delete e[t]}),e.onCreate=function(){(Object.getPrototypeOf(global)||global).getApp=u(this,c);const e={path:"",scene:1001,query:{}};r(this.onLaunch)&&this.onLaunch(e),r(this.onShow)&&this.onShow(e),"undefined"!=typeof dc_stat&&dc_stat.report()},e.getCurrentPages=s,a.default?a.default=e:t.exports&&(t.exports=e)},W.Page=function(e,{wxs:t,path:r,module:a,exports:n,$app_require$:o}){S(e,{wxs:t,type:"Page",path:r,module:a,exports:n,$app_require$:o}),n.default?n.default=e:a.exports&&(a.exports=e)},W.Behavior=V,W.Template=function(e,{module:t,exports:r,$app_require$:a}){S(e,{type:"Template",module:t,exports:r,$app_require$:a}),r.default?r.default=e:t.exports&&(t.exports=e)},W.Component=function(e,{wxs:t,path:a,module:n,exports:o,$app_require$:s}){S(e=V(e),{wxs:t,type:"Component",path:a,module:n,exports:o,$app_require$:s}),e.props=[],e.properties&&(Object.keys(e.properties).forEach(t=>e.props.push(t)),delete e.properties),e.methods&&(Object.keys(e.methods).forEach(t=>{e[t]=e.methods[t]}),delete e.methods);const c=e.onReady;e.onReady=function(){r(c)&&c.call(this),T.call(this,"created"),T.call(this,"attached"),T.call(this,"ready")};const i=e.onDestroy;e.onDestroy=function(){r(i)&&i.call(this),T.call(this,"detached")},e.hasBehavior=function(e){},e.triggerEvent=function(e,t,{bubbles:r=!1,composed:a=!1,capturePhase:n=!1}={}){this.$dispatch(e,t)},o.default?o.default=e:n.exports&&(n.exports=e)},W.uni=new Proxy(J,{get:(e,t)=>J[t]?J[t]:$app_require$(N(t))})}();
